<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<header th:fragment="header">

	<!--
	<div sec:authorize="isAuthenticated()" id="header" class="header">
		<nav class="navbar navbar-expand-lg bg-body-tertiary header-nav">
			<div class="container-fluid">
				<div class="collapse navbar-collapse" id="navbarText">
					<a class="navbar-brand" th:href="@{/}"><img src="/img/app/common/logo.png" alt="OYEZ Logo"></a>
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item">
							<a class="nav-link" th:href="@{/community}">커뮤니티</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href="@{/review}">리뷰</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href="@{/gpt/chat}">CHAT GPT</a>
						</li>
					</ul>
				</div>
				<div style="cursor: pointer">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
								<img src="" class="nav-myinfo">
							</a>
							<ul class="dropdown-menu">
								<li sec:authorize="hasRole('ROLE_ADMIN')"><a class="dropdown-item" th:href="@{/admin}">관리자</a></li>
								<li><a class="dropdown-item" th:href="@{/}">메인</a></li>
								<li class="dropdown-logout"><a class="dropdown-item" th:onclick="goProfile([[ ${userId} ]]);">마이페이지</a></li>
								<li><a class="dropdown-item" th:href="@{/logout}">로그아웃</a></li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</nav>
	</div>
	-->
	
	<div sec:authorize="isAuthenticated()" id="header-mobile" class="header-mobile">
		<nav class="navbar navbar-expand-lg bg-body-tertiary header-mobile-nav">
			<div class="navbar-collapse" id="navbarText">
				<a class="navbar-brand-logo" th:href="@{/}"><img src="/img/app/common/logo.png"></a>
				
				<div style="display: flex; flex-direction: inherit;">
					<div id="show__chat" class="menu-trigger" onclick="openChatRoom();">
						<img src="/img/app/chat/chat-icon.svg" style="width: 1.5rem;">
					</div>
					<div id="show__menu" class="menu-trigger" onclick="openPopupMenu();">
						<div class="line1"></div>
						<div class="line2"></div>
						<div class="line3"></div>
					</div>
				</div>
				
			</div>
		</nav>
	</div>
	
	<script th:inline="javascript">
		function goProfile(userId) {
			location.href = '/' + `${userId}` + '/profile';
		}
	</script>
</header>